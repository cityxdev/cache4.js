$(function(){"use strict";void 0===window.cache4js&&(window.cache4js=function(){const e=(o=navigator.userAgent,n=o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(n[1])?"IE "+((t=/\brv[ :]+(\d+)/g.exec(o)||[])[1]||""):"Chrome"===n[1]&&null!=(t=o.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=o.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n.join(" ")));var t,o,n;e.indexOf("Opera"),e.indexOf("Firefox"),e.indexOf("Safari"),e.indexOf("Chrome");const c=0===e.indexOf("IE"),a=0===e.indexOf("Edge");var r={CACHE_NAMESPACE:"__CACHE4JS__"};const s=!a&&!c&&"undefined"!=typeof LZString;var i=void 0,l=void 0;function u(){return l?l+"_":""}function h(e){return r.CACHE_NAMESPACE+u()+btoa(e)}function m(e){console.log("["+r.CACHE_NAMESPACE+(l||"")+"]\t"+e)}function f(e){try{return e?JSON.parse(s?LZString.decompress(e):e):void 0}catch(e){return void console.log(e)}}r.setMaxElements=function(e){localStorage.setItem("maxElements"+r.CACHE_NAMESPACE+u(),e.toString()),r.getSize()>e&&setTimeout(function(){c?r.clearExpiredCaches():Promise.resolve().then(r.clearExpiredCaches)},10)},r.getMaxElements=function(){const e=localStorage.getItem("maxElements"+r.CACHE_NAMESPACE+u());return e?parseInt(e):150},r.setLocalNamespace=function(e){l=e},r.getLocalNamespace=function(){return l},r.getSize=function(){return i},r.loadCache=function(e,t){function o(t){const o=t.getItem(h(e)),n=f(o),c=n&&n.expireSecs&&Date.now()-1e3*n.expireSecs>n.millis;return(o&&!n||c)&&r.removeCache(e),n&&!c?n.value:void 0}let n=o(localStorage);return n||(n=o(sessionStorage)),n||t},r.getCache=function(e,t,o){const n=r.loadCache(e,void 0);return null==n?r.storeCache(e,t(),o):n},r.storeCache=function(e,t,o){i>=r.getMaxElements()&&r.clearExpiredCaches();const n=h(e),a=sessionStorage[n],l=localStorage[n],u=a||l;if(i>=r.getMaxElements()&&!u)return m(" Cache is full. Size: "+i+", max elements: "+r.getMaxElements()),t;if(null!=t){const e=null==o||o<=0||o>300,h=e?localStorage:sessionStorage;e&&a&&sessionStorage.removeItem(n),!e&&l&&localStorage.removeItem(n);let d={value:t,millis:Date.now(),expireSecs:o};const C=(f=d,s?LZString.compress(JSON.stringify(f)):JSON.stringify(f));try{h.setItem(n,C),u||i++,setTimeout(function(){c?r.clearExpiredCaches():Promise.resolve().then(r.clearExpiredCaches)},100)}catch(e){m(" Error storing cache (1)"),r.clearExpiredCaches();try{h.setItem(n,C),u||i++}catch(e){m(" Error storing cache (2)"),console.log(e)}}}var f;return t},r.removeCache=function(e){const t=h(e);localStorage[t]?(localStorage.removeItem(t),i--):sessionStorage[t]&&(sessionStorage.removeItem(t),i--)},r.clearCaches=function(){let e=0;function t(t){$.each(t,function(o,n){0===o.indexOf(r.CACHE_NAMESPACE+u())&&(t.removeItem(o),i--,e++)})}t(localStorage),t(sessionStorage),m("Clear all caches ("+e+").")},r.clearExpiredCaches=function(){let e=0;function t(t){t=t||localStorage,$.each(t,function(o,n){if(0===o.indexOf(r.CACHE_NAMESPACE+u())){const c=f(n),a=c&&c.expireSecs&&Date.now()-1e3*c.expireSecs>c.millis;(n&&!c||a)&&(t.removeItem(o),i--,e++)}})}t(localStorage),t(sessionStorage),e>0&&m(" Cleared "+e+" expired caches")},r.ajaxCache=function(e,t){return new d(e,t)};const d=function(e,t){let o=this;if(this._data=void 0,(!e.method||"get"!==e.method.toLowerCase()||"head"!==e.method.toLowerCase())&&e.url){const n=e.url+(e.headers&&Object.keys(e.headers)>0?JSON.stringify(e.headers):"")+(e.data?JSON.stringify(e.data):""),c=r.loadCache(n,void 0);if(e.context)for(let t in e.context)this[t]=e.context[t];if(null!=c)return o._data=c,e.success&&(this.mySucess=e.success,this.mySucess(c)),e.complete&&(this.myComplete=e.complete,this.myComplete(this,"CACHE")),o.done=function(e){const t=Array.isArray(e)?e:[e];for(let e in t)o._tempCallback=t[e],o._tempCallback(o._data);return o},o.always=o.done,o.fail=function(){},o.then=function(e){return o._tempCallback=e,o._tempCallback(o._data),o},this;{let o=e.success;e.context=e.context?e.context:{},e.context.cacheSuccess=o,e.context.cacheKey=n,e.context.expireSecs=t,e.success=function(e,t,o){r.storeCache(this.cacheKey,e,this.expireSecs),this.cacheSuccess&&this.cacheSuccess(e,t,o)}}}return $.ajax(e)};if(void 0===i){i=0;const e=function(e){$.each(e,function(e,t){0===e.indexOf(r.CACHE_NAMESPACE+u())&&i++})};e(localStorage),e(sessionStorage)}return r}())});
