$(function(){"use strict";void 0===window.cache4js&&(window.cache4js=function(){const e=(o=navigator.userAgent,n=o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(n[1])?"IE "+((t=/\brv[ :]+(\d+)/g.exec(o)||[])[1]||""):"Chrome"===n[1]&&null!=(t=o.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=o.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n.join(" ")));var t,o,n;e.indexOf("Opera"),e.indexOf("Firefox"),e.indexOf("Safari"),e.indexOf("Chrome");const c=0===e.indexOf("IE"),a=0===e.indexOf("Edge");var s={CACHE_NAMESPACE:"__CACHE4JS__"};const r=!a&&!c&&"undefined"!=typeof LZString;var i=void 0,l=void 0;function u(){return l?l+"_":""}function m(e){return s.CACHE_NAMESPACE+u()+btoa(e)}function f(e){console.log("["+s.CACHE_NAMESPACE+(l||"")+"]\t"+e)}function h(e){try{return e?JSON.parse(r?LZString.decompress(e):e):void 0}catch(e){return void console.log(e)}}s.setMaxElements=function(e){localStorage.setItem("maxElements"+s.CACHE_NAMESPACE+u(),e.toString()),s.getSize()>e&&setTimeout(s.clearExpiredCaches,10)},s.getMaxElements=function(){const e=localStorage.getItem("maxElements"+s.CACHE_NAMESPACE+u());return e?parseInt(e):150},s.setLocalNamespace=function(e){l=e},s.getLocalNamespace=function(){return l},s.getSize=function(){return i},s.loadCache=function(e,t){function o(t){const o=t.getItem(m(e)),n=h(o),c=n&&n.expireSecs&&Date.now()-1e3*n.expireSecs>n.millis;return(o&&!n||c)&&s.removeCache(e),n&&!c?n.value:void 0}let n=o(localStorage);return n||(n=o(sessionStorage)),n||t},s.getCache=function(e,t,o){const n=s.loadCache(e,void 0);return null==n?s.storeCache(e,t(),o):n},s.storeCache=function(e,t,o){i>=s.getMaxElements()&&s.clearExpiredCaches();const n=m(e),c=sessionStorage[n],a=localStorage[n],l=c||a;if(i>=s.getMaxElements()&&!l)return f(" Cache is full. Size: "+i+", max elements: "+s.getMaxElements()),t;if(null!=t){const e=null==o||o<=0||o>300,m=e?localStorage:sessionStorage;e&&c&&sessionStorage.removeItem(n),!e&&a&&localStorage.removeItem(n);let h={value:t,millis:Date.now(),expireSecs:o};const d=(u=h,r?LZString.compress(JSON.stringify(u)):JSON.stringify(u));try{m.setItem(n,d),l||i++,setTimeout(s.clearExpiredCaches,100)}catch(e){f(" Error storing cache (1)"),s.clearExpiredCaches();try{m.setItem(n,d),l||i++}catch(e){f(" Error storing cache (2)"),console.log(e)}}}var u;return t},s.removeCache=function(e){const t=m(e);localStorage[t]?(localStorage.removeItem(t),i--):sessionStorage[t]&&(sessionStorage.removeItem(t),i--)},s.clearCaches=function(){let e=0;function t(t){$.each(t,function(o,n){0===o.indexOf(s.CACHE_NAMESPACE+u())&&(t.removeItem(o),i--,e++)})}t(localStorage),t(sessionStorage),f("Clear all caches ("+e+").")},s.clearExpiredCaches=function(){let e=0;function t(t){t=t||localStorage,$.each(t,function(o,n){if(0===o.indexOf(s.CACHE_NAMESPACE+u())){const c=h(n),a=c&&c.expireSecs&&Date.now()-1e3*c.expireSecs>c.millis;(n&&!c||a)&&(t.removeItem(o),i--,e++)}})}t(localStorage),t(sessionStorage),e>0&&f(" Cleared "+e+" expired caches")},s.ajaxCache=function(e,t){return new d(e,t)};const d=function(e,t){let o=this;if(this._data=void 0,(!e.method||"get"!==e.method.toLowerCase()||"head"!==e.method.toLowerCase())&&e.url){const n=e.url+(e.headers&&Object.keys(e.headers)>0?JSON.stringify(e.headers):"")+(e.data?JSON.stringify(e.data):""),c=s.loadCache(n,void 0);if(e.context)for(let t in e.context)this[t]=e.context[t];if(null!=c)return o._data=c,e.success&&(this.mySucess=e.success,this.mySucess(c)),e.complete&&(this.myComplete=e.complete,this.myComplete(this,"CACHE")),o.done=function(e){const t=Array.isArray(e)?e:[e];for(let e in t)o._tempCallback=t[e],o._tempCallback(o._data);return o},o.always=o.done,o.fail=function(){},o.then=function(e){return o._tempCallback=e,o._tempCallback(o._data),o},this;{let o=e.success;e.context=e.context?e.context:{},e.context.cacheSuccess=o,e.context.cacheKey=n,e.context.expireSecs=t,e.success=function(e,t,o){s.storeCache(this.cacheKey,e,this.expireSecs),this.cacheSuccess&&this.cacheSuccess(e,t,o)}}}return $.ajax(e)};if(void 0===i){i=0;const e=function(e){$.each(e,function(e,t){0===e.indexOf(s.CACHE_NAMESPACE+u())&&i++})};e(localStorage),e(sessionStorage)}return s}())});
